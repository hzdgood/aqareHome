<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yunqi.common.mapper.SyncSchemeMapper">

    <select id="select" resultType="com.yunqi.common.entity.SyncScheme">
        # 方案ID查询
        select *
        from SyncScheme w
        where disabled is null and ( unregulated > 0 or notInstalled > 0 )
    </select>

    <insert id="insert" parameterType="com.yunqi.common.entity.SyncScheme" useGeneratedKeys="true" keyProperty="id">
        # 方案新增
        insert into SyncScheme (projectId, productId, number, notInstalled, unregulated, notSent, itemId) value (
            #{projectId}, #{productId}, #{number}, #{notInstalled}, #{unregulated}, #{notSent}, #{itemId}
        )
    </insert>

    <delete id="delete" parameterType="com.yunqi.common.entity.SyncScheme">
        # 无效
        update SyncScheme
        set disabled   = 'false'
        where id = #{id}
    </delete>
</mapper>